## https相关



## http1.1和http2.0的区别？

- 二进制协议：http2.0是二进制协议，http1.1可以是文本或二进制
- 多路复用：http2复用TCP连接，可发送多个请求，避免队头阻塞
- 数据流：http2不按顺序发送，对数据包进行标记区分。
- 头信息压缩：头信息压缩gzip。
- 服务器推送：允许服务器未经请求，主动推送数据，减少延迟。



## http和https协议的区别？

1. https需要CA证书，http不需要。
2. http是超文本传输，明文信息，https则是SSL加密传输。
3. http协议端口80，https端口443。
4. http连接简单，无状态，https是加密认证的网络协议，更安全。



## 浏览器输入Google.com按下回车之后发生了什么？

1. 解析URL：是否合法
2. 缓存判断：资源是否在缓存里
3. DNS解析：获取对应IP地址
4. 获取MAC地址：网关地址
5. TCP三次握手：客户端发送SYN码，服务端确认请求，发送随机序号到客户端，接收后发送ACK确认码到服务端。建立连接。
6. HTTPS握手：检测数字证书是否有效，生成密钥。
7. 返回数据：返回html文件。
8. 页面渲染：构建DOM树和CSSDOM树，合成渲染树。页面布局渲染。
9. TCP四次挥手：客户端发送释放请求，如果存在未发送完的数据，剩余数据发送完后，服务端进入关闭等待，发送释放请求，客户端接收进入等待状态，持续一段时间，期间服务端未发请求的话，进入closeed状态，服务端收到确认后关闭。



## SSL加密工作原理

主要依赖三类基本算法：**散列算法（MD5）**、**对称加密**、**非对称加密**

**散列算法：** 客户端计算，函数不可逆对数据进行处理，例如MD5。

**对称加密：**客户端和服务器传输相同密钥，密钥协商加密，例如AES  crypto.js

**非对称加密：**客户端拥有公钥，服务端拥有私钥，私钥加密，公钥解密RSA jsencrypt



## https如何保证安全？

将对称加密的密钥通过非对称加密的公钥进行加密，然后发送，接收方通过私钥解密得到对称加密的密钥，然后商贩可以使用对称加密来沟通。

（CA证书）结合验明身份，防止被中间人攻击。数字证书携带：签发者，用途，使用者公钥、密钥、HASH算法、到期时间等。



## 同样是重定向，307，303，302的区别？

302是http1.0的协议码

**302：**临时重定向，资源临时被分配到了新URL。

**303：**应该使用GET方法获取资源。

**307：**和302类似，希望客户端保持请求方法不变向新地址请求。

